<svg fxFlex class="viz-port mat-elevation-z8" #viz>
  <ng-container *ngIf="!(outlineDone | async)">
    <circle [attr.cx]="cursorX" [attr.cy]="cursorY" r="10" *ngIf="mouseActive"></circle>
  </ng-container>
  <circle [attr.cx]="cursorX" [attr.cy]="cursorY" r="10"
          *ngIf="(pointA | async) || (pointB | async)" [attr.fill]="(pointA | async) ? 'red' : 'green'"></circle>
  <circle *ngIf="pA | async as a" [attr.cx]="a.x" [attr.cy]="a.y" r="10" fill="red"></circle>
  <circle *ngIf="pB | async as b" [attr.cx]="b.x" [attr.cy]="b.y" r="10" fill="green"></circle>
  <circle *ngFor="let dot of dots | async" [attr.cx]="dot.x" [attr.cy]="dot.y" r="10"></circle>
  <circle *ngFor="let center of centers | async" [attr.cx]="center.x" [attr.cy]="center.y" r="5"></circle>
  <ng-container *ngIf="!(outlineDone | async)">
    <polyline fill="none" stroke="black" *ngIf="lastDot | async as e"
              [attr.points]="e.x + ',' + e.y + ' ' + cursorX + ',' + cursorY"></polyline>
  </ng-container>
  <polyline fill="none" stroke="black" *ngIf="dots | async as d"
            [attr.points]="formatDots(d)"></polyline>
  <polyline fill="none" stroke="black"
            *ngFor="let tri of triangulation | async"
            [attr.points]="getTri(tri)"></polyline>
</svg>
